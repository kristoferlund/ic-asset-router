# 6.3 — Generated Code Warning Suppression

## Problem

The build script generates code that produces compiler warnings in consuming crates:

1. **`unused_imports`** in `__route_tree.rs` (`src/build.rs:141-148`): `deserialize_search_params` is always imported but only used when a route defines `SearchParams`.
2. **`unused_variables`** in `__route_tree.rs` wrapper functions (`src/build.rs:153-204`): `raw_params` is declared in every wrapper but unused in static route wrappers (where params is `()`).
3. **`non_snake_case`** in generated `mod.rs` files (`src/build.rs:599-620`): `pub mod _postId;` triggers a naming warning because `_postId` is camelCase.

Additionally, there is a pre-existing lifetime warning in test code:

4. **`mismatched_lifetime_syntaxes`** in `src/router.rs:486-491`: the `test_request` helper function's return type `HttpRequest` should use `HttpRequest<'_>` for the anonymous lifetime.

These warnings have been noted in every Phase 5 session (Sessions 3–13).

## Specification

### `__route_tree.rs` — top-level allow

At the top of the generated `__route_tree.rs` output (before the `use` statements at `src/build.rs:141`), emit:

```rust
#[allow(unused_imports, unused_variables)]
```

This suppresses warnings 1 and 2 for all generated code in the file.

### Generated `mod.rs` — module-level allow

When generating `mod.rs` content (`src/build.rs:599-620`), if any child module starts with `_` (the dynamic param convention), prepend:

```rust
#[allow(non_snake_case)]
```

to the `pub mod _paramName;` line.

### `test_request` lifetime fix

In `src/router.rs:486`, change:

```rust
fn test_request(path: &str) -> HttpRequest {
```

to:

```rust
fn test_request(path: &str) -> HttpRequest<'_> {
```

### Files to modify

| File | Change |
|------|--------|
| `src/build.rs:141` | Add `#[allow(unused_imports, unused_variables)]` to generated `__route_tree.rs` output |
| `src/build.rs:599-620` | Add `#[allow(non_snake_case)]` to `pub mod` lines for `_`-prefixed modules |
| `src/router.rs:486` | Fix `test_request` return type lifetime |

### Acceptance criteria

- [ ] `cargo check` on any consuming crate produces zero warnings from generated code
- [ ] `cargo check` on the library itself produces zero warnings
- [ ] `cargo test` passes
- [ ] The `__route_tree.rs` output starts with `#[allow(unused_imports, unused_variables)]`
- [ ] Generated `mod.rs` files use `#[allow(non_snake_case)]` for `_`-prefixed module declarations
